/**
 * Created by Administrator on 2018/5/9.
 */
/**
 * Created by Administrator on 2018/4/27.
 */

'use strict';
var pageName = 'post';



var post = function (host, path, content,data_callback) {


    var http = require('http');
    console.log (pageName + ':the content is:' + content);
    console.log (pageName + ':the length of  content is:' + content.length);
    var options = {
        hostname : host ,
        port : 80 ,
        path : path ,
        method : 'POST'
        /*,
        headers : {
            "Content-Type": "application/json;charset=UTF-8",
            "Content-Length": content.length
        }
        */
    };
    var req = http.request (options, function (res) {
        //console.log(pageName + ':STATUS: ' + res.statusCode);
        //console.log(pageName + ':HEADERS: ' + JSON.stringify(res.headers));

        //console.log('BODY: ' + res.body);
        //res.setEncoding('utf8');
        var data= '';
        res.on('data', function (chunk) {
            data += chunk;
            //console.log ('BODY: ' + chunk);
            data_callback (null,data);
        });
    });

    req.write (content);

    req.end();
    //console.log(pageName, ':req:', req);

};

module.exports=post;
