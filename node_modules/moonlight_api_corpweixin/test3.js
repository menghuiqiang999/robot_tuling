/**
 * Created by Administrator on 2018/5/12.
 */
'use strict';
var pageName = 'test3';

var cryptoMsg = require ('./lib/crypto_msg');
var getRandChar= require('./common/get_rand_char');

var corpId = 'wwf54870d97f9ee496';   //企业微信：深圳XX公司

var msg = '6784695015143011799';
var randChar=getRandChar(16);

var lenMsg=msg.length;
var lenRandMsg = 16 + 4 + lenMsg + corpId.length;
console.log(pageName + ':lenRandMsg:' + lenRandMsg);

var b = Buffer.alloc(lenRandMsg);

b.writeUIntBE(lenMsg,16,4);
b.write(randChar,0,16);
b.write(msg,20);
b.write(corpId,20+lenMsg);
console.log (b);
var bStr = b.toString();
console.log(pageName + ':bStr:'+ bStr);
//gFndSLRX4tIK1iN3695015143011799wwf54870d97f9ee496

